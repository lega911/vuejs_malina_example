<script>
  import Item from './Item.html'

  let todos = [];
  let name = '';

  const add = () => {
    if(!name) return;
    todos.push({name});
    name = '';
  };

  const remove = (i) => {
    todos.splice(i, 1);
  }

  $: completed = todos.filter(i => i.done).length;
</script>

<input type="text" :value={name} @keyup|enter={add} /> <br/>

{#each todos as item, index }
  {index}:
  <Item :item @remove={remove(index)} />
  <br/>
{/each}

{#if todos.length }
  Completed {completed} of {todos.length}
{:else}
  No tasks yet
{/if}

<style>
  input {background-color: rgb(147, 208, 236); margin-bottom: 16px;}
</style>
